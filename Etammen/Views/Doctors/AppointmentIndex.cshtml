@using Etammen.ViewModels

@model IEnumerable<AppointmentViewModel>

@{
    ViewData["Title"] = "AppointmentIndex";
}

<h1>Your Appointments</h1>

@if (Model.Count() > 0)
{
    <table class="table table-hover table table-striped">
   
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Patient)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Clinic)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Date)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ReservtionPeriodNumber)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IsAttended)
                </th>
                <th>
                    @* @Html.DisplayNameFor(model => model.IsDeleted) *@
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
    @foreach (var item in Model) {
            <tr>
                 <input type="hidden" asp-for="@item.Id"/>
                <td>
                        @Html.DisplayFor(modelItem => item.Patient.ApplicationUser.FirstName) @Html.DisplayFor(model => item.Patient.ApplicationUser.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Clinic.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Date)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ReservtionPeriodNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IsAttended)
                </td>
                <td>
                    @* @Html.DisplayFor(modelItem => item.IsDeleted) *@
                </td>
                <td>
                        <a asp-action="CancelAppointment" asp-route-id="@item.Id" class="btn btn-outline-danger">Cancel appointment</a>
                </td>
            </tr>
    }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-info alert-dismissible d-flex align-items-center fade show">
        <i class="bi-info-circle-fill"></i>
        <strong class="mx-2">You have no appointments</strong>
    </div>
}
